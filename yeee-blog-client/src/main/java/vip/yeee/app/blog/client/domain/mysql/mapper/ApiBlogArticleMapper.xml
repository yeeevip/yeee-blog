<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="vip.yeee.app.blog.client.domain.mysql.mapper.ApiBlogArticleMapper">

    <sql id="searchBy">
        <trim prefix = "where" prefixOverrides = "and|or">
            deleted = 0 and status = 1
            <if test="query.title != null and query.title != ''">
                and title = #{title}
            </if>
        </trim>
    </sql>

    <select id="apiBlogArticlePageList" resultType="vip.yeee.app.common.domain.mysql.entity.BlogArticle">
        SELECT
            id,
            classify_id,
            title,
            title_img,
            author,
            publish_time,
            remark
        FROM
            t_blog_article
        <include refid="searchBy"/>
            order by publish_time desc
    </select>

</mapper>
